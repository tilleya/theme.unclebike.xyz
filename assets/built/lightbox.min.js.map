{"version":3,"sources":["lightbox.js"],"names":["lightbox","trigger","document","querySelectorAll","forEach","trig","addEventListener","e","onThumbnailsClick","preventDefault","reachedCurrentItem","items","index","prevSibling","target","closest","previousElementSibling","classList","contains","prevItems","item","push","src","getAttribute","msrc","w","h","el","concat","nextSibling","nextElementSibling","pswpElement","PhotoSwipe","PhotoSwipeUI_Default","bgOpacity","closeOnScroll","fullscreenEl","history","shareEl","zoomEl","getThumbBoundsFn","thumbnail","pageYScroll","window","pageYOffset","documentElement","scrollTop","rect","getBoundingClientRect","x","left","y","top","width","init"],"mappings":"AAAA,SAAAA,SAAAC,GAgGAC,SAAAC,iBAAAF,CAAA,EACAG,QAAA,SAAAC,GACAA,EAAAC,iBAAA,QAAA,SAAAC,GACAC,IAlGAD,EAkGAA,EAjGAA,EAAAE,eAAA,EAOA,IALA,IAiCAC,EAjCAC,EAAA,GACAC,EAAA,EAEAC,EAAAN,EAAAO,OAAAC,QAAA,UAAA,EAAAC,uBAEAH,IAAAA,EAAAI,UAAAC,SAAA,eAAA,GAAAL,EAAAI,UAAAC,SAAA,iBAAA,IAAA,CACA,IAAAC,EAAA,GAEAN,EAAAV,iBAAA,KAAA,EAAAC,QAAA,SAAAgB,GACAD,EAAAE,KAAA,CACAC,IAAAF,EAAAG,aAAA,KAAA,EACAC,KAAAJ,EAAAG,aAAA,KAAA,EACAE,EAAAL,EAAAG,aAAA,OAAA,EACAG,EAAAN,EAAAG,aAAA,QAAA,EACAI,GAAAP,CACA,CAAA,EAEAR,GAAA,CACA,CAAA,EACAC,EAAAA,EAAAG,uBAEAL,EAAAQ,EAAAS,OAAAjB,CAAA,CACA,CAEAJ,EAAAO,OAAAG,UAAAC,SAAA,UAAA,EACAP,EAAAU,KAAA,CACAC,IAAAf,EAAAO,OAAAS,aAAA,KAAA,EACAC,KAAAjB,EAAAO,OAAAS,aAAA,KAAA,EACAE,EAAAlB,EAAAO,OAAAS,aAAA,OAAA,EACAG,EAAAnB,EAAAO,OAAAS,aAAA,QAAA,EACAI,GAAApB,EAAAO,MACA,CAAA,GAEAJ,EAAA,CAAA,EAEAH,EAAAO,OAAAC,QAAA,kBAAA,EAAAZ,iBAAA,KAAA,EAAAC,QAAA,SAAAgB,GACAT,EAAAU,KAAA,CACAC,IAAAF,EAAAG,aAAA,KAAA,EACAC,KAAAJ,EAAAG,aAAA,KAAA,EACAE,EAAAL,EAAAG,aAAA,OAAA,EACAG,EAAAN,EAAAG,aAAA,QAAA,EACAI,GAAAP,CACA,CAAA,EAEAV,GAAAU,IAAAb,EAAAO,OAGAJ,EAAA,CAAA,EAFAE,GAAA,CAIA,CAAA,GAKA,IAFA,IAAAiB,EAAAtB,EAAAO,OAAAC,QAAA,UAAA,EAAAe,mBAEAD,IAAAA,EAAAZ,UAAAC,SAAA,eAAA,GAAAW,EAAAZ,UAAAC,SAAA,iBAAA,IACAW,EAAA1B,iBAAA,KAAA,EAAAC,QAAA,SAAAgB,GACAT,EAAAU,KAAA,CACAC,IAAAF,EAAAG,aAAA,KAAA,EACAC,KAAAJ,EAAAG,aAAA,KAAA,EACAE,EAAAL,EAAAG,aAAA,OAAA,EACAG,EAAAN,EAAAG,aAAA,QAAA,EACAI,GAAAP,CACA,CAAA,CACA,CAAA,EACAS,EAAAA,EAAAC,mBAGAC,EAAA7B,SAAAC,iBAAA,OAAA,EAAA,GAmBA,IAAA6B,WAAAD,EAAAE,qBAAAtB,EAjBA,CACAuB,UAAA,GACAC,cAAA,CAAA,EACAC,aAAA,CAAA,EACAC,QAAA,CAAA,EACAzB,MAAAA,EACA0B,QAAA,CAAA,EACAC,OAAA,CAAA,EACAC,iBAAA,SAAA5B,GACA,IAAA6B,EAAA9B,EAAAC,GAAAe,GACAe,EAAAC,OAAAC,aAAA1C,SAAA2C,gBAAAC,UACAC,EAAAN,EAAAO,sBAAA,EAEA,MAAA,CAAAC,EAAAF,EAAAG,KAAAC,EAAAJ,EAAAK,IAAAV,EAAAjB,EAAAsB,EAAAM,KAAA,CACA,CACA,CAEA,EACAC,KAAA,CASA,CAAA,CACA,CAAA,CACA","file":"lightbox.min.js","sourcesContent":["function lightbox(trigger) {\n    var onThumbnailsClick = function (e) {\n        e.preventDefault();\n\n        var items = [];\n        var index = 0;\n\n        var prevSibling = e.target.closest('.kg-card').previousElementSibling;\n\n        while (prevSibling && (prevSibling.classList.contains('kg-image-card') || prevSibling.classList.contains('kg-gallery-card'))) {\n            var prevItems = [];\n\n            prevSibling.querySelectorAll('img').forEach(function (item) {\n                prevItems.push({\n                    src: item.getAttribute('src'),\n                    msrc: item.getAttribute('src'),\n                    w: item.getAttribute('width'),\n                    h: item.getAttribute('height'),\n                    el: item,\n                })\n\n                index += 1;\n            });\n            prevSibling = prevSibling.previousElementSibling;\n\n            items = prevItems.concat(items);\n        }\n\n        if (e.target.classList.contains('kg-image')) {\n            items.push({\n                src: e.target.getAttribute('src'),\n                msrc: e.target.getAttribute('src'),\n                w: e.target.getAttribute('width'),\n                h: e.target.getAttribute('height'),\n                el: e.target,\n            });\n        } else {\n            var reachedCurrentItem = false;\n\n            e.target.closest('.kg-gallery-card').querySelectorAll('img').forEach(function (item) {\n                items.push({\n                    src: item.getAttribute('src'),\n                    msrc: item.getAttribute('src'),\n                    w: item.getAttribute('width'),\n                    h: item.getAttribute('height'),\n                    el: item,\n                });\n\n                if (!reachedCurrentItem && item !== e.target) {\n                    index += 1;\n                } else {\n                    reachedCurrentItem = true;\n                }\n            });\n        }\n\n        var nextSibling = e.target.closest('.kg-card').nextElementSibling;\n\n        while (nextSibling && (nextSibling.classList.contains('kg-image-card') || nextSibling.classList.contains('kg-gallery-card'))) {\n            nextSibling.querySelectorAll('img').forEach(function (item) {\n                items.push({\n                    src: item.getAttribute('src'),\n                    msrc: item.getAttribute('src'),\n                    w: item.getAttribute('width'),\n                    h: item.getAttribute('height'),\n                    el: item,\n                })\n            });\n            nextSibling = nextSibling.nextElementSibling;\n        }\n\n        var pswpElement = document.querySelectorAll('.pswp')[0];\n\n        var options = {\n            bgOpacity: 0.9,\n            closeOnScroll: true,\n            fullscreenEl: false,\n            history: false,\n            index: index,\n            shareEl: false,\n            zoomEl: false,\n            getThumbBoundsFn: function(index) {\n                var thumbnail = items[index].el,\n                    pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                    rect = thumbnail.getBoundingClientRect();\n\n                return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};\n            }\n        }\n\n        var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n        gallery.init();\n\n        return false;\n    };\n\n    var triggers = document.querySelectorAll(trigger);\n    triggers.forEach(function (trig) {\n        trig.addEventListener('click', function (e) {\n            onThumbnailsClick(e);\n        });\n    });\n}\n"]}